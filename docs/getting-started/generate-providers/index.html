<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Generate the providers # You can compile the Terraform provider you&rsquo;re working on by running the following commands from the root directory of the repository. OUTPUT_PATH should be set to the location of your provider repository, which is recommended to be inside your GOPATH.
cd magic-modules make terraform VERSION=ga OUTPUT_PATH=&#34;$GOPATH/src/github.com/hashicorp/terraform-provider-google&#34; make terraform VERSION=beta OUTPUT_PATH=&#34;$GOPATH/src/github.com/hashicorp/terraform-provider-google-beta&#34; # Only generate a specific product (plus all common files) make terraform VERSION=ga OUTPUT_PATH=&#34;$GOPATH/src/github.com/hashicorp/terraform-provider-google&#34; PRODUCT=pubsub # Only generate only a specific resources for a product make terraform VERSION=ga OUTPUT_PATH=&#34;$GOPATH/src/github."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="Generate the providers"><meta property="og:description" content="Generate the providers # You can compile the Terraform provider you&rsquo;re working on by running the following commands from the root directory of the repository. OUTPUT_PATH should be set to the location of your provider repository, which is recommended to be inside your GOPATH.
cd magic-modules make terraform VERSION=ga OUTPUT_PATH=&#34;$GOPATH/src/github.com/hashicorp/terraform-provider-google&#34; make terraform VERSION=beta OUTPUT_PATH=&#34;$GOPATH/src/github.com/hashicorp/terraform-provider-google-beta&#34; # Only generate a specific product (plus all common files) make terraform VERSION=ga OUTPUT_PATH=&#34;$GOPATH/src/github.com/hashicorp/terraform-provider-google&#34; PRODUCT=pubsub # Only generate only a specific resources for a product make terraform VERSION=ga OUTPUT_PATH=&#34;$GOPATH/src/github."><meta property="og:type" content="article"><meta property="og:url" content="https://googlecloudplatform.github.io/magic-modules/docs/getting-started/generate-providers/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-12-01T08:20:21-08:00"><title>Generate the providers | Magic Modules</title><link rel=manifest href=/magic-modules/manifest.json><link rel=icon href=/magic-modules/favicon.png type=image/x-icon><link rel=stylesheet href=/magic-modules/book.min.c58292d36b18b675680ab9baea2029204537b839ea72f258746ec0f32ce8d6c8.css integrity="sha256-xYKS02sYtnVoCrm66iApIEU3uDnqcvJYdG7A8yzo1sg=" crossorigin=anonymous><script defer src=/magic-modules/flexsearch.min.js></script>
<script defer src=/magic-modules/en.search.min.b60150d29bc923a1095a1f36cb2d00aba00c9f21a40dfe422c7d7e2f742ddf8c.js integrity="sha256-tgFQ0pvJI6EJWh82yy0Aq6AMnyGkDf5CLH1+L3Qt34w=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/magic-modules/><img src=/magic-modules/magic-modules.svg alt=Logo><span>Magic Modules</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><span>Getting Started</span><ul><li><a href=/magic-modules/docs/getting-started/setup/>Set up your environment</a></li><li><a href=/magic-modules/docs/getting-started/generate-providers/ class=active>Generate the providers</a></li><li><a href=/magic-modules/docs/getting-started/run-provider-tests/>Run provider tests</a></li><li><a href=/magic-modules/docs/getting-started/use-built-provider/>Use built provider</a></li><li><a href=/magic-modules/docs/getting-started/contributing/>Contributing</a></li></ul></li><li><a href=/magic-modules/docs/how-to/>How To</a><ul><li><a href=/magic-modules/docs/how-to/types-of-resources/>Types of resources</a></li><li><a href=/magic-modules/docs/how-to/add-mmv1-resource/>Add an MMv1 resource</a></li><li><a href=/magic-modules/docs/how-to/add-mmv1-iam/>Add MMv1 IAM resources</a></li><li><a href=/magic-modules/docs/how-to/add-mmv1-test/>Add an MMv1 test</a></li><li><a href=/magic-modules/docs/how-to/update-handwritten-resource/>Update a handwritten resource</a></li><li><a href=/magic-modules/docs/how-to/add-handwritten-test/>Add a handwritten test</a></li><li><a href=/magic-modules/docs/how-to/add-handwritten-datasource/>Add a handwritten datasource</a></li><li><a href=/magic-modules/docs/how-to/add-handwritten-iam/>Add handwritten IAM resources</a></li></ul></li><li><span>Reference</span><ul><li><a href=https://github.com/GoogleCloudPlatform/magic-modules/blob/main/mmv1/api/resource.rb target=_blank rel=noopener>api.yaml resource ↗</a></li><li><a href=https://github.com/GoogleCloudPlatform/magic-modules/blob/main/mmv1/overrides/terraform/resource_override.rb target=_blank rel=noopener>terraform.yaml resource ↗</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/magic-modules/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Generate the providers</strong>
<label for=toc-control><img src=/magic-modules/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#cleaning-up-old-files>Cleaning up old files</a></li></ul></nav></aside></header><article class=markdown><h1 id=generate-the-providers>Generate the providers
<a class=anchor href=#generate-the-providers>#</a></h1><p>You can compile the Terraform provider you&rsquo;re working on by running the following
commands from the root directory of the repository. OUTPUT_PATH should be set to
the location of your provider repository, which is recommended to be inside your GOPATH.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd magic-modules
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>make terraform VERSION<span style=color:#f92672>=</span>ga OUTPUT_PATH<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$GOPATH<span style=color:#e6db74>/src/github.com/hashicorp/terraform-provider-google&#34;</span>
</span></span><span style=display:flex><span>make terraform VERSION<span style=color:#f92672>=</span>beta OUTPUT_PATH<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$GOPATH<span style=color:#e6db74>/src/github.com/hashicorp/terraform-provider-google-beta&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Only generate a specific product (plus all common files)</span>
</span></span><span style=display:flex><span>make terraform VERSION<span style=color:#f92672>=</span>ga OUTPUT_PATH<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$GOPATH<span style=color:#e6db74>/src/github.com/hashicorp/terraform-provider-google&#34;</span> PRODUCT<span style=color:#f92672>=</span>pubsub
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Only generate only a specific resources for a product</span>
</span></span><span style=display:flex><span>make terraform VERSION<span style=color:#f92672>=</span>ga OUTPUT_PATH<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$GOPATH<span style=color:#e6db74>/src/github.com/hashicorp/terraform-provider-google&#34;</span> PRODUCT<span style=color:#f92672>=</span>pubsub RESOURCE<span style=color:#f92672>=</span>Topic
</span></span></code></pre></div><p>The <code>PRODUCT</code> variable values correspond to folder names in <code>mmv1/products</code> for generated resources. The <code>RESOURCE</code> variable value needs to match the name of the resource inside the <code>api.yaml</code> file for that product.</p><p>Handwritten files in <code>mmv1/third_party</code> are always compiled. If you are only working on common files or third_party code, you can pass a non-existent <code>PRODUCT</code>
to reduce the generation time.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Only generate common files, including all third_party code</span>
</span></span><span style=display:flex><span>make terraform VERSION<span style=color:#f92672>=</span>ga OUTPUT_PATH<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$GOPATH<span style=color:#e6db74>/src/github.com/hashicorp/terraform-provider-google&#34;</span> PRODUCT<span style=color:#f92672>=</span>foo
</span></span></code></pre></div><h2 id=cleaning-up-old-files>Cleaning up old files
<a class=anchor href=#cleaning-up-old-files>#</a></h2><p>Magic Modules will only generate on top of whatever is in the downstream repository. This means that, from time
to time, you may end up with stale files or changes in your downstream that cause compilation or tests to fail.</p><p>You can clean up by running the following commands in your downstream repository:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git checkout -- .
</span></span><span style=display:flex><span>git clean -f google/ google-beta/ website/
</span></span></code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/GoogleCloudPlatform/magic-modules/commit/b516d46d92ea9aaa0ddc5f52100c9ea8e68d5ca5 title='Last modified by Stephen Lewis (Burrows) | December 1, 2022' target=_blank rel=noopener><img src=/magic-modules/svg/calendar.svg class=book-icon alt=Calendar>
<span>December 1, 2022</span></a></div><div><a class="flex align-center" href=https://github.com/GoogleCloudPlatform/magic-modules/edit/main/docs/content/docs/getting-started/generate-providers.md target=_blank rel=noopener><img src=/magic-modules/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#cleaning-up-old-files>Cleaning up old files</a></li></ul></nav></div></aside></main></body></html>